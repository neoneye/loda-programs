; A027642: Denominator of Bernoulli number B_n.
; Submitted by Sphynx
; 1,2,6,1,30,1,42,1,30,1,66,1,2730,1,6,1,510,1,798,1,330,1,138,1,2730,1,6,1,870,1,14322,1,510,1,6,1,1919190,1,6,1,13530,1,1806,1,690,1,282,1,46410,1,66,1,1590,1,798,1,870,1,354,1,56786730,1,6,1,510,1,64722,1,30,1,4686,1,140100870,1,6,1,30,1,3318,1,230010,1,498,1,3404310,1,6,1,61410,1,272118,1,1410,1,6,1,4501770,1,6,1

mov $2,$0
trn $0,1
mov $3,$0
gcd $3,2
add $0,1
mov $6,$0
mov $7,2
mov $8,$0
lpb $8
  sub $8,2
  mov $0,$6
  sub $0,$8
  mov $4,$0
  mov $5,$0
  gcd $5,$8
  bin $5,$0
  seq $0,80339 ; Characteristic function of {1} union {primes}: 1 if n is 1 or a prime, else 0.
  mul $0,$4
  add $0,1
  mul $0,$7
  mul $5,$0
  max $7,$5
lpe
mov $0,$7
sub $0,1
div $0,2
add $0,1
mul $0,2
div $0,$3
add $1,$2
cmp $1,1
add $1,$0
mov $0,$1
